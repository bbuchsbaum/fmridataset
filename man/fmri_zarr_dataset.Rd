% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zarr_dataset_constructor.R
\name{fmri_zarr_dataset}
\alias{fmri_zarr_dataset}
\title{Create an fMRI Dataset from Zarr Arrays}
\usage{
fmri_zarr_dataset(
  zarr_source,
  TR,
  run_length,
  event_table = data.frame(),
  censor = NULL,
  preload = FALSE
)
}
\arguments{
\item{zarr_source}{Path to Zarr store (directory or URL)}

\item{TR}{The repetition time in seconds}

\item{run_length}{Vector of integers indicating the number of scans in each run}

\item{event_table}{Optional data.frame containing event onsets and experimental variables}

\item{censor}{Optional binary vector indicating which scans to remove}

\item{preload}{Whether to load all data into memory (default: FALSE)}
}
\value{
An fMRI dataset object of class c("fmri_file_dataset", "volumetric_dataset", "fmri_dataset", "list")
}
\description{
Creates an fMRI dataset object from Zarr array files. Zarr is a cloud-native
array format that supports chunked, compressed storage and is ideal for
large neuroimaging datasets.
}
\details{
The Zarr backend expects data organized as a 4D array with dimensions
(x, y, z, time). The data is accessed lazily by default, loading only
the requested chunks into memory.

Zarr stores should contain a single 4D array. For mask data, provide
it separately through the fmri_dataset interface if needed.
}
\section{Experimental}{

This function uses the CRAN zarr package which is relatively new (v0.1.1, Dec 2025).
It supports Zarr v3 format only - Zarr v2 stores cannot be read.
Please report any issues to help improve the package.
}

\examples{
\dontrun{
# Local Zarr store
dataset <- fmri_zarr_dataset(
  "path/to/data.zarr",
  TR = 2,
  run_length = c(150, 150, 150)
)

# Remote store
dataset <- fmri_zarr_dataset(
  "https://example.com/subject01.zarr",
  TR = 1.5,
  run_length = 300
)

# Preload small dataset into memory
dataset <- fmri_zarr_dataset(
  "small_data.zarr",
  TR = 2,
  run_length = 100,
  preload = TRUE
)
}

}
\seealso{
\code{\link{zarr_backend}}, \code{\link{fmri_dataset}}
}
