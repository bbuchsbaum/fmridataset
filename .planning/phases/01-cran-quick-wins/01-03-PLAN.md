---
phase: 01-cran-quick-wins
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - .Rbuildignore
autonomous: true

must_haves:
  truths:
    - "R CMD check produces no NOTE about hidden files and directories (.planning)"
    - "R CMD check produces no NOTE about non-standard top-level files"
  artifacts:
    - path: ".Rbuildignore"
      provides: "Patterns to exclude .planning and non-standard markdown files from package bundle"
      contains: "^\\.planning$"
  key_links:
    - from: ".Rbuildignore"
      to: "R CMD build"
      via: "file exclusion patterns"
      pattern: "\\.planning|API_SAFETY_ANALYSIS|BACKEND_REGISTRY|backend-development|cheatsheet"
---

<objective>
Update .Rbuildignore to exclude .planning directory and non-standard top-level files

Purpose: R CMD check produces NOTEs about hidden files (.planning) and non-standard top-level files (various .md files). These are development/documentation files that should not be included in the package bundle.

Output: Updated .Rbuildignore with patterns to exclude all flagged files, eliminating two NOTEs from R CMD check.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-cran-quick-wins/01-RESEARCH.md

@.Rbuildignore
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add .planning to .Rbuildignore</name>
  <files>.Rbuildignore</files>
  <action>
Add the following pattern to .Rbuildignore to exclude the .planning directory:

```
^\.planning$
```

This is a Perl-compatible regex pattern (case-insensitive). The ^ and $ anchors ensure only the exact directory name matches.

Check if pattern already exists before adding (avoid duplicates).
  </action>
  <verify>
grep "planning" .Rbuildignore should show the pattern
  </verify>
  <done>.Rbuildignore contains ^\.planning$ pattern</done>
</task>

<task type="auto">
  <name>Task 2: Add non-standard top-level files to .Rbuildignore</name>
  <files>.Rbuildignore</files>
  <action>
R CMD check flagged these non-standard top-level files:
- API_SAFETY_ANALYSIS.md
- BACKEND_REGISTRY_SUMMARY.md
- backend-development-basics.md
- fmridataset_cheatsheet_v3.md

Add patterns to .Rbuildignore for each:

```
^API_SAFETY_ANALYSIS\.md$
^BACKEND_REGISTRY_SUMMARY\.md$
^backend-development-basics\.md$
^fmridataset_cheatsheet_v3\.md$
```

Note: Some patterns may already exist in .Rbuildignore (check first). The current file already has some patterns without proper regex anchors - those should be fixed or replaced.

Review existing .Rbuildignore entries for proper Perl regex syntax:
- Entries like "DOCUMENTATION_FIXES_SUMMARY.md" should be "^DOCUMENTATION_FIXES_SUMMARY\.md$"
- Entries need escaped dots (\.md not .md)
- Entries need ^ and $ anchors

Fix any existing malformed patterns while adding new ones.
  </action>
  <verify>
1. grep -E "API_SAFETY|BACKEND_REGISTRY|backend-development|cheatsheet" .Rbuildignore should show all patterns
2. R -e "devtools::check()" 2>&1 | grep -E "Non-standard files|hidden files" should return no matches
  </verify>
  <done>.Rbuildignore contains properly formatted patterns for all non-standard top-level files</done>
</task>

</tasks>

<verification>
Run R CMD check to verify all build ignore issues resolved:
```bash
R -e "devtools::check()" 2>&1 | grep -E "hidden files|Non-standard files"
```

Expected: No matches (both NOTEs eliminated).

Also verify package still builds:
```bash
R CMD build . && ls *.tar.gz
```
</verification>

<success_criteria>
- .Rbuildignore contains ^\.planning$ pattern
- .Rbuildignore contains patterns for all non-standard top-level .md files
- R CMD check no longer produces NOTE about hidden files and directories
- R CMD check no longer produces NOTE about non-standard top-level files
- Package builds successfully into tarball
</success_criteria>

<output>
After completion, create `.planning/phases/01-cran-quick-wins/01-03-SUMMARY.md`
</output>
